(function(e){function t(t){for(var r,l,s=t[0],i=t[1],c=t[2],d=0,p=[];d<s.length;d++)l=s[d],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&p.push(o[l][0]),o[l]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,s=1;s<a.length;s++){var i=a[s];0!==o[i]&&(r=!1)}r&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},o={app:0},n=[];function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=i;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0324":function(e,t,a){},"100d":function(e,t,a){},"48cf":function(e,t,a){"use strict";var r=a("100d"),o=a.n(r);o.a},"50fb":function(e,t,a){"use strict";var r=a("0324"),o=a.n(r);o.a},"56d7":function(e,t,a){"use strict";a.r(t);a("96dd"),a("a60a"),a("e783"),a("8b1f");var r=a("6e6d"),o=a("7893"),n=a.n(o),l=(a("610a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-container",[r("el-aside",{attrs:{width:"23%"}},[r("div",{staticClass:"app-logo"},[r("img",{attrs:{src:a("5c2e")}})]),r("ul",{staticClass:"nav nav-list bs-docs-sidenav"},[r("li",{class:{active:1==e.pageIndex},on:{click:function(t){return e.doChangePage(1)}}},[r("router-link",{attrs:{to:"/"}},[e._v("Dashboard"),r("i",{staticClass:"el-icon-arrow-right"})])],1),r("li",{class:{active:2==e.pageIndex},on:{click:function(t){return e.doChangePage(2)}}},[r("router-link",{attrs:{to:"/logging"}},[e._v("Logging"),r("i",{staticClass:"el-icon-arrow-right"})])],1),r("li",{class:{active:3==e.pageIndex},on:{click:function(t){return e.doChangePage(3)}}},[r("router-link",{attrs:{to:"/cluster"}},[e._v("Cluster"),r("i",{staticClass:"el-icon-arrow-right"})])],1),r("li",{class:{active:4==e.pageIndex},on:{click:function(t){return e.doChangePage(4)}}},[r("router-link",{attrs:{to:"/java-properties"}},[e._v("Java Properties"),r("i",{staticClass:"el-icon-arrow-right"})])],1),r("li",{class:{active:5==e.pageIndex},on:{click:function(t){return e.doChangePage(5)}}},[r("router-link",{attrs:{to:"/thread-dump"}},[e._v("Thread Dump"),r("i",{staticClass:"el-icon-arrow-right"})])],1),r("li",{class:{active:6==e.pageIndex},on:{click:function(t){return e.doChangePage(6)}}},[r("router-link",{attrs:{to:"/broker-config"}},[e._v("Broker Config"),r("i",{staticClass:"el-icon-arrow-right"})])],1),r("li",{class:{active:7==e.pageIndex},on:{click:function(t){return e.doChangePage(7)}}},[r("router-link",{attrs:{to:"/topics"}},[e._v("Topics"),r("i",{staticClass:"el-icon-arrow-right"})])],1)])]),r("el-main",[r("router-view")],1)],1),r("el-footer",[r("div",{staticClass:"footer"},[r("a",{attrs:{target:"_blank",href:"http://192.168.12.95/zxcity/tfkafka"}},[e._v("Project")]),e._v(" ·\n            "),r("a",{attrs:{target:"_blank",href:"http://192.168.12.95/zxcity/tfkafka/blob/master/README.md"}},[e._v("Documents")])])])],1)}),s=[],i={data:function(){return{pageIndex:1}},methods:{doChangePage:function(e){this.pageIndex=e}}},c=i,u=(a("5c0b"),a("4e82")),d=Object(u["a"])(c,l,s,!1,null,null,null),p=d.exports,g=a("c478"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"module-title"},[a("b",[e._v("Instance")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.instaceData,"show-header":!1}},[a("el-table-column",{attrs:{prop:"key",width:"220"}}),a("el-table-column",{attrs:{prop:"value"}})],1)],1)]),a("el-col",{attrs:{span:11}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"module-title"},[a("b",[e._v("System")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.systemData,"show-header":!1}},[a("el-table-column",{attrs:{prop:"key",width:"220"}}),a("el-table-column",{attrs:{prop:"value"}})],1)],1)])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"module-title"},[a("b",[e._v("JVM")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.jvmData,"show-header":!1}},[a("el-table-column",{attrs:{prop:"key",width:"220"}}),a("el-table-column",{attrs:{prop:"value"}})],1)],1)]),a("el-col",{attrs:{span:11}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"module-title"},[a("b",[e._v("Broker")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.brokerData,"show-header":!1}},[a("el-table-column",{attrs:{prop:"key",width:"220"}}),a("el-table-column",{attrs:{prop:"value"}})],1)],1)])],1)],1)},m=[],v=(a("8f42"),a("2427")),b=a.n(v),h=b.a.create({baseURL:"/rest",timeout:5e3});function k(e){var t=new URLSearchParams;t.append("cmd",e.cmd),t.append("data",e.data),h.post(h.baseUrl,t).then((function(t){console.log("请求成功：",t),e.sCallback&&e.sCallback(t)})).catch((function(e){console.log("【统一异常处理】",e)}))}h.interceptors.request.use((function(e){return e}),(function(e){return console.log(e),Promise.reject(e)})),h.interceptors.response.use((function(e){var t=e.status;return 200!==t?Promise.reject(new Error("Error")):e.data}),(function(e){return console.log("err"+e),Promise.reject(e)}));var y={requestForm:k},C={DASHBOARD:"metric/dashboard",LOGGING:"metric/logging",CLUSTER:"metric/cluster",JAVA_PROPERTIES:"metric/java-properties",THREAD_DUMP:"metric/thread-dump",BROKER_CONFIG:"metric/broker-config",TOPICS:"metric/topics",DELETE_TOPIC:"metric/deleteTopic"},w=C,_={data:function(){return{instaceData:[],systemData:[],jvmData:[],brokerData:[]}},created:function(){var e=this;y.requestForm({cmd:w.DASHBOARD,data:"",sCallback:function(t){if(console.log("========== 请求dashboard数据 =========="),console.log("请求结果：",t),console.log("========== 请求dashboard数据 =========="),null!=t){var a=t.instance;e.instaceData=[{key:"Startup",value:S(a.start)},{key:"Host",value:a.host},{key:"Data",value:a.data},{key:"Transaction log",value:a.dataLog},{key:"CWD",value:a.cmd}];var r=t.system;e.systemData=[{key:"Physical memory",value:r.sysMemory},{key:"Physical memory used",value:r.sysMemoryUsed},{key:"Swap space",value:r.swapSpace},{key:"Swap space used",value:r.swapSpaceUsed},{key:"Maximum file descriptors",value:r.fileDescriptors},{key:"Opened file descriptors",value:r.fileDescriptorsUsed},{key:"Maximum JVM memory",value:r.jvmMemoryMax},{key:"Current total JVM memory",value:r.jvmMemoryTotal},{key:"JVM memory used",value:r.jvmMemoryUsed}];var o=t.jvm;e.jvmData=[{key:"Runtime",value:o.runtime},{key:"Args",value:o.args},{key:"Processors",value:o.processors}];var n=t.broker,l=t.version;e.brokerData=[{key:"Broker Id",value:n.id},{key:"Broker URI",value:n.zKString},{key:"Version",value:l}]}else console.log("【查询dashboard数据异常】")}})}};function S(e){var t="",a=Number(e/1e3).toFixed(0);if(a>60){var r=Number(a/60).toFixed(0);if(r>60){var o=Number(r/60).toFixed(0);if(o>24){var n=Number(o/24).toFixed(0);if(n>7){var l=Number(n/7).toFixed(0);t=l+" weeks ago"}else if(n>30){var s=Number(n/30).toFixed(0);t=s+" months ago"}else t=n+" days ago"}else t=o+" hours ago"}else t=r+" minutes ago"}else t=a+" seconds ago";return t}var P=_,x=(a("b985"),Object(u["a"])(P,f,m,!1,null,null,null)),D=x.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"grid-content bg-purple"},e._l(e.infoLogList,(function(t,r){return a("p",{key:r,staticClass:"info-log"},[e._v("\n                    "+e._s(t)+"\n                ")])})),0)])],1)],1)},j=[],T={data:function(){return{infoLogList:[]}},created:function(){var e=this;y.requestForm({cmd:w.LOGGING,data:"",sCallback:function(t){console.log("========== 请求logging数据 =========="),console.log("请求结果：",t),console.log("========== 请求logging数据 =========="),null!=t&&(e.infoLogList=t)}})}},E=T,I=(a("48cf"),Object(u["a"])(E,O,j,!1,null,null,null)),N=I.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"broker-item"},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("Broker")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.brokerData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"brokerId",label:"Broker Id",width:"100"}}),a("el-table-column",{attrs:{prop:"salve",label:"Slave ?",width:"100"}}),a("el-table-column",{attrs:{label:"host",prop:"host",width:"150"}}),a("el-table-column",{attrs:{label:"Broker URI",prop:"brokerUri"}})],1)],1)])],1)],1)},B=[],M={data:function(){return{brokerData:[{salve:"false",brokerUri:"meta://118.190.236.225:8123",dashboard:"http://118.190.236.225:8120 "}]}},created:function(){var e=this;y.requestForm({cmd:w.CLUSTER,data:"",sCallback:function(t){if(console.log("========== 请求cluster数据 =========="),console.log("请求结果：",t),console.log("========== 请求cluster数据 =========="),null!=t){for(var a=[],r=0;r<t.length;r++){var o=t[r];a.push({brokerId:o.id,salve:o.isSalve?"true":"false",host:o.host,brokerUri:o.zKString})}console.log(t.length),e.brokerData=a}}})}},U=M,F=(a("df48"),Object(u["a"])(U,R,B,!1,null,null,null)),L=F.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"broker-item"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.javaProperties,border:"","show-header":!1}},[a("el-table-column",{attrs:{prop:"key"}}),a("el-table-column",{attrs:{prop:"value"}})],1)],1)])],1)],1)},$=[],J={data:function(){return{javaProperties:[]}},created:function(){var e=this;y.requestForm({cmd:w.JAVA_PROPERTIES,data:"",sCallback:function(t){if(console.log("========== 请求Java Properties数据 =========="),console.log("请求结果：",t),console.log("========== 请求Java Properties数据 =========="),null!=t){var a=[];for(var r in t)a.push({key:r,value:t[r]});e.javaProperties=a}}})}},q=J,z=Object(u["a"])(q,A,$,!1,null,null,null),G=z.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:22}},[a("div",{},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.threadDumpData,border:"","show-header":!1}},[a("el-table-column",{attrs:{prop:"value"}})],1)],1)])],1)],1)},H=[],K={data:function(){return{threadDumpData:[]}},created:function(){var e=this;y.requestForm({cmd:w.THREAD_DUMP,data:"",sCallback:function(t){if(console.log("========== 请求Thread Dump数据 =========="),console.log("请求结果：",t),console.log("========== 请求Thread Dump数据 =========="),null!=t){for(var a=[],r=0;r<t.length;r++){var o=t[r],n='"'+o.threadName+'" Id='+o.threadId+" "+o.threadState+("RUNNABLE"===o.threadState?"":" on "+o.lockName);if(o.hasOwnProperty("stackTrace"))for(var l=0;l<o.stackTrace.length;l++){var s=o.stackTrace[r];s&&(n=n+"\nat "+s.className+"."+s.methodName+"("+(s.nativeMethod?"Native Method":s.fileName+":"+s.lineNumber+")"))}a.push({value:n})}e.threadDumpData=a}}})}},W=K,Q=Object(u["a"])(W,V,H,!1,null,null,null),X=Q.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"grid-content bg-purple"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.brokerConfigs,expression:"brokerConfigs"}],attrs:{name:"",id:"",rows:"25"},domProps:{value:e.brokerConfigs},on:{input:function(t){t.target.composing||(e.brokerConfigs=t.target.value)}}})]),a("div",{staticClass:"reload-btn-box"},[a("button",{staticClass:"reloadBtn",on:{click:e.doReloadConfig}},[e._v("Reload config")]),a("p",{staticClass:"warn-msg"},[a("span",[e._v("\n                        Be careful,it will reload the config parameters from broker config file permanently.\n                    ")])])])])],1)],1)},Z=[],ee=(a("c041"),{data:function(){return{brokerConfigs:""}},methods:{doReloadConfig:function(){alert("当前不支持！")}},created:function(){var e=this;y.requestForm({cmd:w.BROKER_CONFIG,data:"",sCallback:function(t){console.log("========== 请求Broker Config数据 =========="),console.log("请求结果：",t),console.log("========== 请求Broker Config数据 =========="),null!=t&&(e.brokerConfigs=te(t))}})}});function te(e){return e=e.replace(/\\/g,"%"),unescape(e)}var ae=ee,re=(a("50fb"),Object(u["a"])(ae,Y,Z,!1,null,null,null)),oe=re.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:22}},[a("div",{staticClass:"broker-item"},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("Topics (Only contains data)")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.topicsData,border:""}},[a("el-table-column",{attrs:{prop:"topic",label:"Topic (Click for detail)",width:"220"}}),a("el-table-column",{attrs:{align:"center",label:"Partitions",prop:"partition"}}),a("el-table-column",{attrs:{align:"center",label:"Messages Number",prop:"messageNumber"}}),a("el-table-column",{attrs:{align:"center",label:"Messages Bytes",prop:"messagesBytes"}}),a("el-table-column",{attrs:{align:"center",label:"Average Size (Byte)",prop:"averageSize"}}),a("el-table-column",{attrs:{align:"center",label:"Accept Pub",prop:"acceptPub"}}),a("el-table-column",{attrs:{align:"center",label:"Accept Sub",prop:"acceptSub"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.deleteTopic(t.row)}}},[e._v("删除")])]}}])})],1)],1)])],1)],1)},le=[],se={data:function(){return{topicsData:[]}},methods:{deleteTopic:function(e){var t=this,a=e.topic;this.$confirm("此操作将永久删除该Topic, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("删除topic: ",a);var e=t;y.requestForm({cmd:w.DELETE_TOPIC,data:JSON.stringify({topic:a}),sCallback:function(t){console.log("删除Topics 请求结果：",t),"SUCCESS"===t?(e.$message({type:"success",message:"删除成功！"}),ie(e)):e.$message({type:"error",message:"删除失败!"})}})})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){ie(this)}};function ie(e){y.requestForm({cmd:w.TOPICS,data:"",sCallback:function(t){if(console.log("========== 请求Topics数据 =========="),console.log("请求结果：",t),console.log("========== 请求Topics数据 =========="),null!=t){for(var a=[],r=0;r<t.length;r++){var o=t[r];a.push({topic:o.topic,partition:o.partitions,messageNumber:o.messagesNumber,messagesBytes:o.messagesBytes,averageSize:o.averageSize,acceptPub:o.acceptPub+"",acceptSub:o.acceptSub+""})}e.topicsData=a}}})}var ce=se,ue=Object(u["a"])(ce,ne,le,!1,null,null,null),de=ue.exports;r["default"].use(g["a"]);var pe=new g["a"]({routes:[{path:"/",name:"dashboard",component:D},{path:"/logging",name:"logging",component:N},{path:"/cluster",name:"cluster",component:L},{path:"/java-properties",name:"java-properties",component:G},{path:"/thread-dump",name:"thread-dump",component:X},{path:"/broker-config",name:"broker-config",component:oe},{path:"/topics",name:"topics",component:de}]});r["default"].config.productionTip=!1,r["default"].use(n.a),new r["default"]({router:pe,render:function(e){return e(p)}}).$mount("#app")},"586d":function(e,t,a){},"5c0b":function(e,t,a){"use strict";var r=a("95f6"),o=a.n(r);o.a},"5c2e":function(e,t,a){e.exports=a.p+"img/tmq-logo.9b465133.png"},"95f6":function(e,t,a){},b985:function(e,t,a){"use strict";var r=a("586d"),o=a.n(r);o.a},d1d1:function(e,t,a){},df48:function(e,t,a){"use strict";var r=a("d1d1"),o=a.n(r);o.a}});
//# sourceMappingURL=app.c1eee765.js.map